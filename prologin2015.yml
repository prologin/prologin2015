name: prologin2015

constant:
  -
    cst_name: TAILLE_TERRAIN
    cst_val: 40
    cst_comment: Taille du terrain (longueur et largeur)

  -
    cst_name: NB_TOURS
    cst_val: 100
    cst_comment: Nombre de tours à jouer avant la fin de la partie

  -
    cst_name: NB_POINTS_DEPLACEMENT
    cst_val: 8
    cst_comment: Nombre de points de déplacements par tour

  -
    cst_name: NB_POINTS_ACTION
    cst_val: 200
    cst_comment: Nombre de points d'action à chaque tour

  -
    cst_name: COUT_CAPTURE
    cst_val: 5
    cst_comment: Nombre de points d'actions que coûte la capture d'un portail

  -
    cst_name: COUT_LIEN
    cst_val: 5
    cst_comment: Nombre de points d'actions que coûte la création d'un lien

  -
    cst_name: COUT_ATTAQUE
    cst_val: 2
    cst_comment: Nombre de points d'actions que coûte l'attaque

  -
    cst_name: COUT_BOUCLIER
    cst_val: 10
    cst_comment: Nombre de points d'actions que coûte l'attaque

  -
    cst_name: COUT_VIRUS
    cst_val: 100
    cst_comment: Nombre de points d'actions que coûte l'utilisation d'un virus

  -
    cst_name: COUT_BOOST_VITESSE
    cst_val: 10
    cst_comment: Nombre de points d'actions que coûte un boost de vitesse

  -
    cst_name: GAIN_BOOST_VITESSE
    cst_val: 1
    cst_comment: Nombre de points de déplacement donnés par le boost de vitesse

  -
    cst_name: ENERGIE_PORTAIL
    cst_val: 100
    cst_comment: L'énergie initiale d'un portal après sa capture

  -
    cst_name: MAX_BOUCLIERS
    cst_val: 4
    cst_comment: Nombre maximum de boucliers sur un même portail.

enum:
  -
    enum_name: erreur
    enum_summary: "Erreurs possibles"
    enum_field:
      - [ok, "L'action a été exécutée avec succès"]
      - [pa_insuffisants, "Vous ne possédez pas assez de points d'action pour cette action."]
      - [non_portail, "La position sur laquelle vous tentez d'agir n'est pas un portail."]
      - [position_invalide, "La position spécifiée n'est pas valide (hors de la carte)."]
      - [trop_loin, "La destination est trop éloignée."]
      - [mauvaise_appartenance, "Le portail n'appartient pas à la bonne personne (peut inclure 'neutre')."]
      - [intersection_lien, "Ce lien croise des liens existants, il ne peut pas être construit."]
      - [portail_dans_triangle, "L'une des extrémités de ce lien est dans un champ existant, il ne peut pas être construit."]
      - [limite_boucliers_atteinte, "Ce portail est déjà équipé du nombre maximal de boucliers."]

struct:
  -
    str_name: position
    str_summary: Position sur la carte, donnée par deux coordonnées.
    str_tuple: yes
    str_field:
      - [x, int, "Coordonnée en X"]
      - [y, int, "Coordonnée en Y"]
  -
    str_name: lien
    str_summary: Représente un lien.
    str_tuple: no
    str_field:
      - [extr1, position, "Première extrémité du lien."]
      - [extr2, position, "Seconde extrémité du lien."]
      - [joueur, int, "Joueur possédant ce lien."]
  -
    str_name: champ
    str_summary: Représente un champ.
    str_tuple: no
    str_field:
      - [som1, position, "Première sommet du champ."]
      - [som2, position, "Deuxème sommet du champ."]
      - [som3, position, "Troisième sommet du champ."]
      - [proprio, int, "Joueur possédant ce lien."]

function:

# Actions
  -
    fct_name: capturer
    fct_summary: Capture le portail où est positionné votre agent
    fct_ret_type: erreur
    fct_arg: []

  -
    fct_name: lier
    fct_summary: Crée un lien entre le portail où se trouve votre agent et le
                 portail de destination donné en argument
    fct_ret_type: erreur
    fct_arg:
      - [portail, position, "Portail de destination"]
  -
    fct_name: attaquer
    fct_summary: Attaque le portail où se trouve votre agent
    fct_ret_type: erreur
    fct_arg: []
  -
    fct_name: deplacer
    fct_summary: Déplace votre agent sur la case passée en argument
    fct_ret_type: erreur
    fct_arg:
      - [dest, position, "Case de destination"]
  -
    fct_name: recharger
    fct_summary: Recharge le portail sur la case passé en argument
    fct_ret_type: erreur
    fct_arg:
      - [portail, position, "Portail à recharger"]

# Autre
  -
    fct_name: moi
    fct_summary: Retourne le numéro de votre joueur
    fct_ret_type: int
    fct_arg: []
  -
    fct_name: adversaire
    fct_summary: Retourne le numéro de votre adversaire
    fct_ret_type: int
    fct_arg: []
  -
    fct_name: score
    fct_summary: Retourne les scores du joueur désigné par l'identifiant ``id``
    fct_ret_type: int
    fct_arg:
      - [id_joueur, int, "Identifiant du joueur"]
  -
    fct_name: tour_actuel
    fct_summary: Retourne le numéro du tour actuel
    fct_ret_type: int
    fct_arg: []


user_function:
  -
    fct_name: partie_init
    fct_summary: Fonction appelée au début de la partie
    fct_ret_type: void
    fct_arg: []
  -
    fct_name: jouer_tour
    fct_summary: Fonction appelée à chaque tour
    fct_ret_type: void
    fct_arg: []
  -
    fct_name: partie_fin
    fct_summary: Fonction appelée à la fin de la partie
    fct_ret_type: void
    fct_arg: []
